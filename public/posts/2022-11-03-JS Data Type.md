<!-- ---
title: JS基础系列之基本类型和引用类型的区别
date: 2022-11-03
tags: JS基础系列
set: BaseJS
--- -->



### 一. 堆和栈

内存中有`堆内存`和`栈内存`两种
* **栈**：栈会自动分配内存空间，会自动释放，存放基本类型，简单的数据段占据固定大小的空间。
* **堆**：动态分配的内存，大小不定也不会自动释放，存放引用类型，指那些可能由多个值构成的对象，保存在堆内存中，包含引用类型的变量，实际上保存的不是变量本身，而是指向该对象的指针

### 二. 基本类型和引用类型

#### 1. 基本类型

**基本类型**包含`Null`、`Undefined`、`Number`、`String`、`Boolean`

**基本类型的基本特点**：
* **占用空间固定**，存放在**栈内存**中。当一个方法执行时，每个方法都会建立自己的内存栈，在这个方法内定义的变量将会逐个放入这块栈内存中，随着方法的执行结束，这个方法的内存栈自然销毁。因此所有在方法中定义的变量都是放在栈内存中的，栈中存储的是基础变量以及一些对象的引用变量，基础变量的值是存在栈中，而引用变量存储在栈中的是指向堆中的数组或对象的地址，所以修改引用类型会影响到其他指向这个地址的引用变量。
* **保存与复制的是值本身**
* **使用typeof检测数据的类型**
* **基本类型上不可以添加属性和方法**

#### 2. 引用类型

**引用类型**包含`Date`、`RegExp`、`Array`、`Map`、`Object`、`Set`、`Function`等

**引用类型的基本特点**：
* **占用空间不固定**，保存在**堆内存**中。当我们在程序中创建一个对象时，这个对象将被保存到运行时数据区中，以便反复利用（因为对象的创建成本通常比较大），这个运行时数据区就是堆内存。堆内存中的对象不会随方法的结束而销毁，即便是方法结束后，这个对象还可能被另一个引用变量引用，只有当一个对象没有任何引用变量引用时，系统的垃圾回收机制才会在核实的时候进行回收
* **保存与复制的是指向对象的一个指针**
* **使用instanceof检测数据类型**
* **使用new()方法构造出的对象是引用型**
* **引用类型上可以添加属性和方法**